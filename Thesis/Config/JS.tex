% ===== Source-Code =====
\usepackage{listings} %bindet das Paket Listings ein

\lstset{	
%	numbers=none, 					% keine Zeilennummern
%	tabsize=2, 						% Tabulatorgrösse: 2 Zeichen
%	breaklines=true, 				% zu lange Zeilen werden umbrochen
%	aboveskip=1em, 					% Abstand nach oben
%	belowskip=0.3em, 				% Abstand nach unten
%	basicstyle=\tiny, 				% Schriftgrösse small, Typewriter-Font
%	framerule=1pt, 					% keinen Rand
%	backgroundcolor=\color{mygray}, % helles grau als Hintergrund
%	framexrightmargin=0.3em, 		% Hintergrund ragt leicht in den Seitenrand
%	framexleftmargin=0.3em, 		% Hintergrund ragt leicht in den Seitenrand
%	captionpos=t 					% Beschriftung ist unterhalb
%	columns=fullflexible 			% damit Quellcode einfach rauskopiert werden kann
}

\renewcommand{\lstlistlistingname}{Source code listing}
\renewcommand{\lstlistingname}{Source code}

\lstset{
  literate={ö}{{\"o}}1
           {ä}{{\"a}}1
           {ü}{{\"u}}1
           {ß}{{\ss}}1
}

% defining colors
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{mygreen}{rgb}{0.2, 0.8, 0.2}
\definecolor{myorange}{rgb}{1.0, 0.5, 0}

% defining JavaScript
\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]"
}

% loading languages
\lstloadlanguages{C++, JavaScript}

% settings
\lstset{
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   %numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=t,
   %colors
   %backgroundcolor=\color{lightgray},
   commentstyle=\color{mygreen}\ttfamily,
   stringstyle=\color{myorange}\ttfamily,
   keywordstyle=\color{blue}\bfseries,
   identifierstyle=\color{black},
   %margins
   xleftmargin=19pt,
   aboveskip=0pt,
   belowskip=0pt
}

%caption
\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35, 0.01}{\parbox{\textwidth}{\hspace{5pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}

%\lstset{
%  literate={ö}{{\"o}}1
%           {ä}{{\"a}}1
%           {ü}{{\"u}}1
%           {ß}{{\ss}}1
%}